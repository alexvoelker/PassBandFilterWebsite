<!DOCTYPE html>
<html lang="en">
<head>
    <title>Input-Page - SatDive Website Prototype</title>
    <meta
            property="og:title"
            content="Input-Page - SatDive Website Prototype"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta charset="utf-8"/>
    <meta property="twitter:card" content="summary_large_image"/>

    <style data-tag="reset-style-sheet">
        html {
            line-height: 1.15;
        }

        body {
            margin: 0;
        }

        * {
            box-sizing: border-box;
            border-width: 0;
            border-style: solid;
        }

        p, li, ul, pre, div, h1, h2, h3, h4, h5, h6, figure, blockquote, figcaption {
            margin: 0;
            padding: 0;
        }

        button {
            background-color: transparent;
        }

        button, input, optgroup, select, textarea {
            font-family: inherit;
            font-size: 100%;
            line-height: 1.15;
            margin: 0;
        }

        button, select {
            text-transform: none;
        }

        button, [type="button"], [type="reset"], [type="submit"] {
            -webkit-appearance: button;
        }

        button::-moz-focus-inner, [type="button"]::-moz-focus-inner, [type="reset"]::-moz-focus-inner, [type="submit"]::-moz-focus-inner {
            border-style: none;
            padding: 0;
        }

        button:-moz-focus, [type="button"]:-moz-focus, [type="reset"]:-moz-focus, [type="submit"]:-moz-focus {
            outline: 1px dotted ButtonText;
        }

        a {
            color: inherit;
            text-decoration: inherit;
        }

        input {
            padding: 2px 4px;
        }

        img {
            display: block;
        }

        html {
            scroll-behavior: smooth
        }
    </style>
    <style data-tag="default-style-sheet">
        html {
            font-family: Karla;
            font-size: 16px;
        }

        body {
            font-weight: 400;
            font-style: normal;
            text-decoration: none;
            text-transform: none;
            letter-spacing: normal;
            line-height: 1.15;
            color: var(--dl-color-gray-black);
            background-color: var(--dl-color-gray-white);

        }
    </style>
    <link
            rel="stylesheet"
            href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&amp;display=swap"
            data-tag="font"
    />
    <link
            rel="stylesheet"
            href="https://fonts.googleapis.com/css2?family=Exo+2:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&amp;display=swap"
            data-tag="font"
    />
    <link
            rel="stylesheet"
            href="https://fonts.googleapis.com/css2?family=Karla:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,200;1,300;1,400;1,500;1,600;1,700;1,800&amp;display=swap"
            data-tag="font"
    />
    <link
            rel="stylesheet"
            href="https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,300;0,400;0,700;0,900;1,300;1,400;1,700;1,900&amp;display=swap"
            data-tag="font"
    />
    <link
            rel="stylesheet"
            href="https://fonts.googleapis.com/css2?family=Cormorant+Infant:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&amp;display=swap"
            data-tag="font"
    />
    <link
            rel="stylesheet"
            href="https://fonts.googleapis.com/css2?family=Fira+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&amp;display=swap"
            data-tag="font"
    />
    <link
            rel="stylesheet"
            href="https://fonts.googleapis.com/css2?family=Oxygen:wght@300;400;700&amp;display=swap"
            data-tag="font"
    />
    <link
            rel="stylesheet"
            href="https://fonts.googleapis.com/css2?family=Spectral:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,200;1,300;1,400;1,500;1,600;1,700;1,800&amp;display=swap"
            data-tag="font"
    />


    <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>

    <!--This is the head section-->
    <!-- <style> ... </style> -->
</head>
<body>
<link href="{{ url_for('static', filename="css/style.css") }}" rel="stylesheet"/>

<div>
    <link href="{{ url_for('static', filename="css/input-page.css") }}" rel="stylesheet"/>


    <div class="input-page-container">
        <h1 style="color: #FFFFFF">Data Input Form</h1>
        <div id="map"></div>
        <div class="input-page-container2">
            <form class="input-page-form" id="inputForm" method="POST" action="{{ url_for('input_page') }}">

                <div class="input-page-container3">
                    <div class="input-page-container4">
                        <div class="input-page-container5">
                            <label class="input-page-text">
                                Max Cloud Coverage (float):
                            </label>
                            <label class="input-page-text1">
                                Boost Contrast Level (float):
                            </label>
                            <label class="input-page-text2">Filter:</label>
                            <label class="input-page-text3">
                                Coordinate 1 (latitude):
                            </label>
                            <label class="input-page-text4">
                                Coordinate 1 (longitude):
                            </label>
                            <label class="input-page-text5">
                                Coordinate 2 (latitude):
                            </label>
                            <label class="input-page-text6">
                                Coordinate 2 (longitude):
                            </label>
                        </div>
                        <div class="input-page-container6">
                            <input
                                    type="number"
                                    id="maxCloud"
                                    name="maxCloud"
                                    required
                                    placeholder="1.0"
                                    class="input-page-textinput input"
                            />
                            <input
                                    type="number"
                                    id="contrastLevel"
                                    name="contrastLevel"
                                    required
                                    placeholder="2.0"
                                    class="input-page-textinput1 input"
                            />
                            <select
                                    id="filterType"
                                    name="filterType"
                                    required=""
                                    class="input-page-select"
                            >
                                <option value="True Color" selected="">True Color</option>
                                <option value="False Color">False Color</option>
                                <option value="NDWI">NDWI</option>
                                <option value="SWIR">SWIR</option>
                            </select>
                            <input
                                    type="number"
                                    id="x1"
                                    required
                                    placeholder=24.711867107705018
                                    step="any"
                                    name="x1"
                                    value=24.711867107705018
                                    class="input-page-textinput2 input"
                            />
                            <input
                                    type="number"
                                    id="y1"
                                    required
                                    placeholder=-81.86215875525929
                                    step="any"
                                    name="y1"
                                    value=-81.86215875525929
                                    class="input-page-textinput3 input"
                            />
                            <input
                                    type="number"
                                    id="x2"
                                    required
                                    placeholder=24.514016627717794
                                    step="any"
                                    name="x2"
                                    value=24.514016627717794
                                    class="input-page-textinput4 input"
                            />
                            <input
                                    type="number"
                                    id="y2"
                                    required
                                    placeholder=-81.62540358710271
                                    step="any"
                                    name="y2"
                                    value=-81.62540358710271
                                    class="input-page-textinput5 input"
                            />
                        </div>
                    </div>
                    <div class="input-page-container7">
                        <button
                                id="submitButton"
                                type="submit"
                                class="input-page-button button"
                        >
                            Submit
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
<script
        data-section-id="navbar"
        src="https://unpkg.com/@teleporthq/teleport-custom-scripts"
></script>


<script>

    let map;
    let bounds;
    let gridBoundingBox;

    // save initial spot
    let init_spot = null;

    // These help mobile users see their selections on the map
    let mobileMarker1 = null;
    let mobileMarker2 = null;

    function initMap() {
        const myLatlng = {lat: -25.363, lng: 131.044};

        let first = true;

        map = new google.maps.Map(document.getElementById("map"), {
            zoom: 4,
            center: myLatlng,
        });

        // Create the initial InfoWindow.
        let infoWindow = new google.maps.InfoWindow({
            content: "Click the map to get Lat/Lng!",
            position: myLatlng,
        });

        infoWindow.open(map);

        var gridBoundingBox = null;
        var themap = map;

        google.maps.event.addListener(map, 'mousemove', function (e) {
            if (!first) {
                if (gridBoundingBox !== null) // box exists
                {
                    bounds.extend(e.latLng);
                    gridBoundingBox.setBounds(bounds); // If this statement is enabled, I lose mouseUp events

                } else // create bounding box
                {
                    bounds = new google.maps.LatLngBounds();
                    bounds.extend(e.latLng);
                    gridBoundingBox = new google.maps.Rectangle({
                        map: themap,
                        bounds: bounds,
                        fillOpacity: 0.15,
                        strokeWeight: 0.9,
                        clickable: false
                    });
                }
            }
        });

        // check if on mobile device
        window.mobileAndTabletCheck = function() {
          let check = false;
          (function(a){if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4))) check = true;})(navigator.userAgent||navigator.vendor||window.opera);
          return check;
        };

        // Configure the click listener.
        map.addListener("click", (mapsMouseEvent) => {
            // Close the current InfoWindow.
            infoWindow.close();

            // Set help Window and field
            if (first) {
                // get elements and set
                document.getElementById("x1").value = mapsMouseEvent.latLng.lat();
                document.getElementById("y1").value = mapsMouseEvent.latLng.lng();

                if (gridBoundingBox !== null) {
                    gridBoundingBox.setMap(null);
                }

                // if on mobile device, make a red circle marker
                if (window.mobileAndTabletCheck()){
                        // remove old marker
                        if (mobileMarker1 !== null){
                            mobileMarker1.setMap(null)
                            mobileMarker2.setMap(null)
                        }

                        init_spot = mapsMouseEvent.latLng;

                        mobileMarker1 = new google.maps.Marker({
                            map,
                            position: mapsMouseEvent.latLng,
                            icon: "https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fwww.iconattitude.com%2Ficons%2Fopen_icon_library%2Fothers%2Fpng%2F16%2Fcircle_red.png&f=1&nofb=1&ipt=60100213c10872eccb4397523177f4ebabb2e3c08d7a8753d303f7fd3cb092ee&ipo=images",
                            scaledSize: new google.maps.Size(60, 30),
                            anchor: new google.maps.Point(30, 30),
                            animation: google.maps.Animation.DROP,
                      });
                }

                gridBoundingBox = null;

            } else {
                // get elements and set
                document.getElementById("x2").value = mapsMouseEvent.latLng.lat();
                document.getElementById("y2").value = mapsMouseEvent.latLng.lng();


                // if on mobile device, make a red circle marker
                if (window.mobileAndTabletCheck()){

                    bounds = new google.maps.LatLngBounds();
                    bounds.extend(init_spot);
                    bounds.extend(mapsMouseEvent.latLng)
                    gridBoundingBox = new google.maps.Rectangle({
                        map: themap,
                        bounds: bounds,
                        fillOpacity: 0.15,
                        strokeWeight: 0.9,
                        clickable: false
                    });

                    mobileMarker2 = new google.maps.Marker({
                        map,
                        position: mapsMouseEvent.latLng,
                        icon: "https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fwww.iconattitude.com%2Ficons%2Fopen_icon_library%2Fothers%2Fpng%2F16%2Fcircle_red.png&f=1&nofb=1&ipt=60100213c10872eccb4397523177f4ebabb2e3c08d7a8753d303f7fd3cb092ee&ipo=images",
                        scaledSize: new google.maps.Size(60, 30),
                        anchor: new google.maps.Point(30, 30),
                        animation: google.maps.Animation.DROP,
                  });
                }
            }

            // Flip first
            first = !first;
        });
    }

    window.initMap = initMap;
</script>

<script
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAfMW4vguenAbUWsPEMAW46gukC_ZLT0Qw&callback=initMap&v=weekly"
        defer
></script>

</body>
</html>
